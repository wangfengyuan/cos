# å¦‚ä½•æ— éœ€ç¼–ç ä¾¿å¯ä¸ºæ‚¨çš„ç½‘ç«™æ„å»ºAIèŠå¤©æœºå™¨äºº

Created: July 3, 2023 3:19 PM
Description: ä»‹ç»äº†æ— éœ€ç¼–å†™ä»»ä½•ä»£ç ä¾¿å¯è½»æ¾æ„å»ºAIåº”ç”¨çš„Flowiseå¼ºå¤§å·¥å…·çš„éƒ¨ç½²å’Œä½¿ç”¨æ–¹å¼ï¼Œä»¥è‡ªå·±åšå®¢ç½‘ç«™ä¸ºä¾‹ï¼Œåœ¨å‡ åˆ†é’Ÿå†…è®­ç»ƒç½‘ç«™æˆ–è€…æ–‡æ¡£æ•°æ®ï¼Œåˆ›å»ºè‡ªå·±çš„ç½‘é¡µèŠå¤©æœºå™¨äºº
Featured: No
Last Updated: July 7, 2023 10:39 PM
Public: Yes
Published: July 7, 2023
Slug: flowise-blog-ai-chatbot
Tags: Docker, OpenAI

# èƒŒæ™¯

èŠå¤©æœºå™¨äººæ­£åœ¨å˜æˆæˆ‘ä»¬ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œæ”¹å˜äº†å¦‚ä»Šçš„å·¥ä½œæ–¹å¼ã€‚ç”šè‡³æœ‰äººå¼€ç©ç¬‘è¯´2023 Web å¼€å‘è€…åšçš„ `HelloWorld` é¡¹ç›®ä¸å†æ˜¯ `TodoList`äº†è€Œæ˜¯ `AI` èŠå¤©æœºå™¨äººï¼Œä½†æ˜¯å®ƒè¿˜æ˜¯è¢«è®¤ä¸ºå…·æœ‰å¾ˆé«˜çš„å¼€å‘é—¨æ§›ï¼Œè¢«è®¤ä¸ºåªæœ‰å¼€å‘è€…æ‰èƒ½æ„å»ºå‡ºåº”ç”¨ã€‚ä½†æœ¬æ–‡å°†æ•™ä½ å¦‚ä½•æ— éœ€ç¼–å†™ä»»ä½•ä»£ç åˆ›å»ºè‡ªå·±çš„èŠå¤©æœºå™¨äººï¼Œåœ¨å‡ åˆ†é’Ÿå†…è®­ç»ƒä»»ä½•ç½‘ç«™æ•°æ®ï¼Œæä¾›çš„æ€è·¯å’Œæ–¹æ³•ä¹Ÿé€‚ç”¨äºå¤„ç†å…¶ä»–æ•°æ®å’Œå…¶ä»–åœºæ™¯ã€‚

# LangChainä»‹ç»

éšç€`OpenAI`çš„å‘å¸ƒï¼Œå¤§å‹è¯­è¨€æ¨¡å‹ (`Large Language Model`å³`LLM`) æ­£åœ¨æˆä¸ºä¸€ç§å˜é©æ€§æŠ€æœ¯è€Œå¸­å·äº†ä¸–ç•Œï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ„å»ºä»–ä»¬ä»¥å‰æ— æ³•æ„å»ºçš„åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å•ç‹¬ä½¿ç”¨è¿™äº› `LLM` å¾€å¾€ä¸è¶³ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£å¼ºå¤§çš„åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å½“å¯ä»¥å°†å®ƒä»¬ä¸å…¶ä»–è®¡ç®—æˆ–çŸ¥è¯†æ¥æºç›¸ç»“åˆæ—¶ï¼Œå°±æœ‰çœŸçš„ä»·å€¼äº†ã€‚`LangChain`æ—¨åœ¨å¸®åŠ©å¼€å‘äººå‘˜å……åˆ†åˆ©ç”¨ `LLM` çš„å…¨éƒ¨æ½œåŠ›ï¼Œç”¨äºå¹¿æ³›çš„åº”ç”¨ç¨‹åºã€‚`LangChain` å›´ç»•å°†ä¸åŒç»„ä»¶â€œé“¾æ¥â€åœ¨ä¸€èµ·çš„æ ¸å¿ƒæ¦‚å¿µæ„å»ºï¼Œç®€åŒ–äº†ä¸ `GPT-3ã€GPT-4` ç­‰ `LLM` åˆä½œçš„è¿‡ç¨‹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥è½»æ¾å®ç°èŠå¤©æœºå™¨äººã€ç”Ÿæˆå¼é—®ç­”ã€æ–‡æœ¬æ‘˜è¦ç­‰åŠŸèƒ½ã€‚

[åœ¨è¿™é‡Œ](https://integrations.langchain.com/)ä½ å¯ä»¥çœ‹åˆ°ç›®å‰`LangChain`å·²ç»é›†æˆçš„æ¨¡å—

![Untitled](https://cos.codefe.top/images/langchain-integration-modules.png)

é«˜å…´çš„æ˜¯ï¼Œ`LangChain`ä¸ä»…æœ‰`python`ç‰ˆæœ¬ï¼Œè¿˜æä¾›äº†[JS/TSç‰ˆæœ¬](https://js.langchain.com/docs/)ã€‚

# `Flowise`ä»‹ç»

[Flowise](https://flowiseai.com/)æ˜¯åŸºäºğŸ¦œï¸ğŸ”— `LangChainJS`æ„å»ºçš„å¯å…è´¹ä¾›å•†ä¸šå’Œä¸ªäººä½¿ç”¨çš„å…è´¹å¼€æºé¡¹ç›®ï¼Œå®ƒæœ‰ç€ä¸€ä¸ªéå¸¸æ˜“ç”¨çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ—¨åœ¨è®©äººä»¬è½»æ¾åœ°å¯è§†åŒ–å’Œæ„å»º`LLM`åº”ç”¨ç¨‹åºï¼Œä¹Ÿå°±æ˜¯`nocode`å¼€å‘`LLM`åº”ç”¨ã€‚ç±»ä¼¼çš„å·¥å…·æ¯”è¿™ä¸ªè¿˜æ—©çš„æœ‰[`langflow`](https://github.com/logspace-ai/langflow)ï¼Œä½†æ˜¯å› ä¸º`Flowise`å®ƒæœ‰ç€å¥½çœ‹çš„`UI`ç•Œé¢ä»¥åŠè¿™ä¸ªé¡¹ç›®å°±æ˜¯`js`å¼€å‘çš„ï¼Œå› æ­¤æˆ‘é€‰æ‹©`Flowise`ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢çš„åº”ç”¨ç¨‹åºå±•ç¤ºäº†ä¸€ä¸ªåŸºæœ¬çš„ç¿»è¯‘æœºå™¨äººï¼ŒåŒæ—¶ä¹Ÿæ¼”ç¤ºäº†å¦‚ä½•æ ¼å¼åŒ–æç¤ºå€¼ï¼Œè€Œå®ç°ä¸‹é¢è¿™ä¸ªä½ åªéœ€è¦ç®€å•æ‹–æ‹½å°±å¯ä»¥å®Œæˆã€‚

![Untitled](https://cos.codefe.top/images/flowise-translateflow-demo.png)

è€Œæœ¬æ–‡è¦æ„å»ºç½‘ç«™èŠå¤©æœºå™¨äººï¼Œæœ¬è´¨ä¸Šå’Œå¾ˆå¸¸è§çš„ä¸å·²æœ‰pdfæˆ–è€…docæ–‡æ¡£å¯¹è¯åŸç†æ˜¯ä¸€è‡´çš„ï¼Œè¿™é‡Œå¼•ç”¨[ä¸€ç¯‡æ–‡ç« ](https://towardsdatascience.com/all-you-need-to-know-to-build-your-first-llm-app-eb982c78ffac)çš„ç¤ºä¾‹å›¾ç‰‡

![https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njagJOgiT-VTJjQ18bugcw.png](https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njagJOgiT-VTJjQ18bugcw.png)

æœ¬è´¨ä¸ŠåŸç†å¤§è‡´æ˜¯ï¼š

- å°†æºæ–‡ä»¶åˆ‡æˆå¤šä¸ªæ–‡æœ¬ç‰‡æ®µï¼Œåˆ›å»º**`Embeddings`** ç„¶åå­˜åˆ°å‘é‡æ•°æ®åº“
- å°†ç”¨æˆ·æé—®ä¹Ÿåˆ›å»º**`Embeddings`** ï¼Œå°†å®ƒå’Œä¸Šä¸€æ­¥åˆ›å»ºå¥½çš„å‘é‡å¯¹æ¯”ï¼Œé€šè¿‡ç›¸è¿‘æœç´¢æ‰¾åˆ°æœ€ç›¸å…³çš„æ–‡æœ¬ç‰‡æ®µï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯èƒ½å‘ç°æ–‡æœ¬ç›¸å…³æ€§ï¼Œæ¯”å¦‚æ±½è½¦å’Œå…¬è·¯
- æŠŠé—®é¢˜å’Œå†å²èŠå¤©è¿˜æœ‰ç›¸å…³ç‰‡æ®µä¸€èµ·å‘é€ç»™`**LLM**`å®ƒä¾¿èƒ½ä»ä¸­æ€»ç»“å‡ºå›ç­”

# è‡ªéƒ¨ç½²

ä½¿ç”¨`Flowise`å¾ˆç®€å•ï¼Œæ³¨æ„ï¼š`node`è¦æ±‚æ˜¯æœ€æ–°ç‰ˆ`18`

```jsx
npm install -g flowise
npx flowise start
```

æ‰§è¡Œä¸Šé¢å‘½ä»¤åï¼Œæ‰“å¼€Â [http://localhost:3000](http://localhost:3000/) å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œå°±éœ€è¦è‡ªå·±éƒ¨ç½²ä¸€ä»½äº†ï¼Œ[å®˜æ–¹æ–‡æ¡£](https://docs.flowiseai.com/)æä¾›äº†å¤šç§éƒ¨ç½²æ–¹å¼ï¼ŒåŒ…æ‹¬[Render](https://docs.flowiseai.com/deployment/render)ã€[Railway](https://docs.flowiseai.com/deployment/railway)ã€[Replit](https://docs.flowiseai.com/deployment/replit)ç­‰äº‘æœåŠ¡å•†å„è‡ªéƒ¨ç½²æ–¹å¼ï¼Œå¯¹äºæ— æœåŠ¡å™¨å¯ä»¥å°è¯•ä¸‹ã€‚

> å¦‚æœæ˜¯ä½¿ç”¨äº‘æœåŠ¡å•†éƒ¨ç½²ï¼Œå› ä¸ºé¡¹ç›®ä½¿ç”¨äº†`SQLite`ï¼Œæ‰€ä»¥éœ€è¦æŸ¥é˜…å…¶æ–‡æ¡£äº†è§£æŒä¹…åŒ–æ•°æ®çš„æ–¹å¼ï¼Œé¿å…æœåŠ¡åœ¨é‡å¯æ—¶æ•°æ®éƒ¨åˆ†æ•°æ®ä¸¢å¤±ï¼ŒåŒæ—¶å‘é‡æ•°æ®åº“ä¹Ÿæ¨èä¹Ÿä½¿ç”¨äº‘æœåŠ¡å•†çš„æ¯”å¦‚[`Supabase pgvecto](https://supabase.com/docs/guides/database/extensions/pgvector)r`æˆ–è€…[`pinecone](https://www.pinecone.io/)`
> 

å› ä¸ºæˆ‘æœ‰è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä¸Šé¢æåˆ°çš„`suapabase`ä¸`pinecone`ä¼šåœ¨ä½ ä¸€å‘¨æ²¡æœ‰ä½¿ç”¨æˆ–è€…è¯´æ˜¯æ²¡æœ‰è¯·æ±‚è°ƒç”¨æ—¶ï¼Œä¼šå…³é—­æˆ–è€…æˆ–åˆ é™¤ä½ æ•°æ®åº“ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç›´æ¥ä½¿ç”¨dockerè‡ªå·±éƒ¨ç½²ï¼Œé¦–å…ˆ`clone`ä»£ç 

```bash
git clone https://github.com/FlowiseAI/Flowise.git
```

è¿›å…¥`docker`ç›®å½•ï¼Œåˆ›å»º`.env`æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä¸‹é¢ç¯å¢ƒå˜é‡ï¼Œå…¶ä¸­`port`æ˜¯æœåŠ¡æš´éœ²ç«¯å£ï¼Œç”¨æˆ·åå’Œå¯†ç æ˜¯ä¸ºç½‘é¡µè®¿é—®æ·»åŠ è®¤è¯

```bash
PORT=3000
FLOWISE_USERNAME=admin
FLOWISE_PASSWORD=ä½ çš„å¯†ç 
```

ç„¶ååœ¨è¿™ä¸ª`docker`ç›®å½•æ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨ï¼Œæˆ‘çš„æ˜¯`docker`æœ€æ–°ç‰ˆï¼Œå› æ­¤å’Œæ–‡æ¡£æœ‰ç‚¹å°åŒºåˆ«

```bash
docker compose up -d
```

å¯åŠ¨åå°±å¯ä»¥é€šè¿‡`ip:3000`è®¿é—®äº†ï¼Œå‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« ï¼Œé€šè¿‡`Nginx Proxy Manage`å·¥å…·ï¼Œå¯ä»¥è½»æ¾ä¸ºè¯¥æœåŠ¡åˆ†é…ä¸€ä¸ªå¯è®¿é—®åŸŸåï¼Œè¿™é‡Œæˆ‘è®¾ç½®å¥½åï¼Œå°±å¯ä»¥é€šè¿‡åŸŸå [http://flowise.codefe.top/](http://flowise.codefe.top/) æ¥è®¿é—®äº†ã€‚

# æµç¨‹å›¾

å·¦ä¾§é€‰æ‹©`Chatflows`ï¼Œç‚¹å‡»æ–°å¢æµç¨‹ï¼Œåœ¨ç”»å¸ƒå·¦ä¾§æ·»åŠ èŠ‚ç‚¹ã€‚æµç¨‹éœ€è¦6ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«æ‰¾åˆ°æ¯ä¸€ä¸ªå¹¶æ‹–æ”¾åˆ°ç”»å¸ƒä¸Šï¼Œè¯·å‚é˜…ä¸‹é¢çš„å®Œæ•´ç”»å¸ƒï¼Œä»–ä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š

![Untitled](https://cos.codefe.top/images/blog-cheerio-flow.png)

- **`RecursiveCharacterTextSplitter`**ï¼šæ–‡æœ¬æ‹†åˆ†ï¼Œç”¨äºå°†æˆ‘ä»¬æ”¶é›†çš„æ–‡æœ¬æ•°æ®åˆ†è§£ä¸ºå°å—ï¼Œè¿™äº›å°å—ç¨åå°†æä¾›ç»™æˆ‘ä»¬çš„èŠå¤©æœºå™¨äººä»¥å¸®åŠ©å…¶æ­£ç¡®å›ç­”é—®é¢˜
- **`Cheerio Web Scrapper`**ï¼šæ­¤èŠ‚ç‚¹ç”¨äºè¯»å–æ‰€é€‰ç½‘ç«™ä¸­çš„æ‰€æœ‰æ–‡æœ¬ã€‚å¡«å†™æ‚¨è¦ç”¨ä½œè®­ç»ƒæ•°æ®çš„ `URL`ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨æˆ‘çš„åšå®¢åœ°å€[`https://blog.codefe.top/`](https://blog.codefe.top/) ï¼Œå¦‚æœæ‚¨æƒ³é˜…è¯»æ‰€æœ‰é¡µé¢è€Œä¸ä»…ä»…æ˜¯ä¸»é¡µé¢ï¼Œè¯·å•å‡»é™„åŠ å‚æ•°ï¼Œç„¶åé€‰æ‹©â€œç›¸å…³é“¾æ¥çš„ç½‘é¡µå†…å®¹â€ï¼Œå°†é“¾æ¥é™åˆ¶æ›´æ”¹ä¸ºå…è®¸çš„æœ€å¤§é¡µé¢æ•°ã€‚å› ä¸º`OpenAI API`æŒ‰ä½¿ç”¨çš„æ•°æ®é‡ä»˜è´¹ã€‚
- **`OpenAI** **Embeddings**`ï¼š**`Embeddings`**æ˜¯ä¸€ç§å°†å•è¯æˆ–å¥å­è½¬æ¢ä¸ºæ•°å­¦è¡¨ç¤ºçš„æ–¹æ³•ï¼ŒAIå·¥å…·å¯ä»¥é€šè¿‡å®ƒè¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡çš„æœç´¢å’Œä½¿ç”¨ã€‚
- `**Faiss Upsert Document**`: Faissæ˜¯facebookå¼€æºçš„å‘é‡æ•°æ®åº“ï¼Œè¿™é‡Œæ˜¯å°†ä¸Šé¢**`Embeddings`** åçš„å‘é‡æ•°æ®å­˜å‚¨ï¼Œåç»­ä¼šæ ¹æ®æé—®å†…å®¹ä»ä¸­æœ€è¿‘é‚»æœç´¢åˆ°æœ€åŒ¹é…çš„å†…å®¹
- **`ChatOpenAI`**ï¼š `ChatGPT` è¯­è¨€æ¨¡å‹ï¼Œç›¸ä¼¼çš„è¿˜æœ‰`Azure`å¯¹è¯æ¨¡å‹ã€‚
- **`Conversational Retriever QA Chain`**ï¼šè¿™ä¸ªå¯ä»¥åŸºäºå·²æœ‰å†…å®¹å’Œå†å²èŠå¤©è®°å½•è¿›è¡Œå¯¹è¯

å°†ä¸Šé¢æ¨¡å—æ ¹æ®å„è‡ªçš„è¾“å…¥è¾“å‡ºå…³ç³»é€šè¿‡è¿æ¥çº¿é“¾æ¥èµ·æ¥ï¼Œå…¶ä¸­`OpenAI Embeddings`å’Œ`OpenAI`å¯¹è¯æ¨¡å‹éƒ½ä¾èµ–`OpenAI API` å¯†é’¥ï¼Œéœ€è¦æ­£ç¡®å¡«å†™ï¼Œå³ä¸Šè§’ä¿å­˜å¹¶ä¸ºæ­¤æµç¨‹é€‰æ‹©ä¸€ä¸ªåç§°ã€‚

> ğŸ’¡Â å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ`Flowise`é›†æˆå¥½äº†`LangChain`å¾ˆå¤š`loader`ï¼Œæ¯”å¦‚`confluence`ã€`pdf`ã€`docx`ã€`folder with files`ã€`github`ã€`figma`ã€`json`ç­‰å¤šç§æ•°æ®æ ¼å¼å’Œæ•°æ®æºå¤„ç†ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³å„ç§åœºæ™¯äº†ã€‚
> 

# è°ƒè¯•

## è¶…æ—¶

æµ‹è¯•è¿è¡Œæ—¶ï¼Œç¬¬ä¸€ä¸ªæŠ¥é”™å°±æ˜¯504è¶…æ—¶

![Untitled](https://cos.codefe.top/images/flowise-504.png)

åŸå› æ˜¯æˆ‘çš„æœºå™¨åœ¨å¹¿å·ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®`Openai Api`æ˜¯è®¿é—®ä¸é€šçš„ï¼Œå› æ­¤è¿™é‡Œéœ€è¦è®¾ç½®ä¸€ä¸ªä»£ç†åœ°å€ï¼Œæ­å»ºä»£ç†è®¿é—®æ–¹å¼å¾ˆå¤šï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ï¼Œæˆ‘ä¹‹å‰æ˜¯é€šè¿‡`Cloudflare Worker`æ¥ä»£ç†çš„ï¼Œæ¯”å¦‚æˆ‘çš„ä»£ç†åœ°å€æ˜¯[https://wfyapi.ink/v1](https://wfyapi.ink/v1) ï¼Œå°†è¿™ä¸ªåœ°å€å¡«å†™åˆ°`OpenAI Embeddings`å’Œ`ChatOpenAI`è¿™ä¸¤å¤„ç”¨åˆ°`api`çš„èŠ‚ç‚¹ï¼Œç‚¹å‡»èŠ‚ç‚¹çš„`Additional Parameters`å¹¶å¡«å…¥`BasePath`è¾“å…¥æ¡†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![Untitled](https://cos.codefe.top/images/flowise-openai-basepath.png)

è®¾ç½®å¥½åä¿å­˜é‡è¯•ï¼Œä½†æ˜¯å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ£€ç´¢åˆ°å†…å®¹å›ç­”ï¼Œå¦‚ä¸‹å›¾ï¼ŒæŸ¥çœ‹å…¶åŒ¹é…åˆ°çš„åŸå†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåˆ†å‰²åçš„å†…å®¹æœ‰å¤§é‡çš„æ— å…³ä¿¡æ¯æˆ–è€…è¯´æ˜¯æœªç»æ¸…ç†çš„è„æ•°æ®ï¼Œè¿™ä¸ªåŸå› æ˜¯æ˜¯è¿™äº›æ–‡æœ¬æ˜¯é€šè¿‡`Notion Api`è¿”å›çš„ï¼ŒåŸ`Notion`æ–‡æœ¬è¢«è½¬æ¢æˆäº†ç‰¹å®šçš„ç»“æ„ï¼Œå¹¶ä¸”ä¸ºäº†æ ‡è¯†æ¯ä¸ªå—æ˜¯åŠ ç²—è¿˜æ˜¯æ–œä½“æ ¼å¼ï¼Œä¹ŸåŠ äº†å¤§é‡çš„å­—æ®µï¼Œè¿™æ ·å°±å¯¼è‡´äº†ä¸‹å›¾ä¸­çš„æ–‡æœ¬å¤šæ¬¡åˆ†å‰²ã€å†…å®¹ä¸è¿è´¯çš„é—®é¢˜ï¼Œå› æ­¤æ— æ³•æ€»ç»“ã€‚

![Untitled](https://cos.codefe.top/images/flowise-cheerio-test.png)

çŸ¥é“é—®é¢˜æ‰€åœ¨ï¼ŒåŒæ—¶æ–‡æ¡£åœ¨[`Web Loader`](https://js.langchain.com/docs/modules/indexes/document_loaders/examples/web_loaders/)ç« èŠ‚ä¸­æœ‰ä¸€ä¸ª[Notion Database Loader](https://js.langchain.com/docs/modules/indexes/document_loaders/examples/web_loaders/notionapi)å¯ç”¨äºä»`Notion`é¡µé¢å’Œæ•°æ®åº“åŠ è½½æ–‡æ¡£ï¼ŒåŒæ—¶åšå®¢å†…å®¹çš„æ•°æ®æºä¹Ÿæ˜¯æ¥è‡ª`Notion`æ•°æ®åº“ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨`Notion Database Loader`æ›´åˆé€‚ã€‚

## Notion Database Loader

åœ¨ç”»å¸ƒä¸­æ‹–å…¥`Notion Database Loader`æ›¿æ¢æ‰`Cheerio Web Scrapper` æŒ‰ç…§æŒ‡å¼•å¦‚ä¸‹è®¾ç½®ï¼š

1. **è·å–Notion Database Id**
    
    æˆ‘çš„Notioné¡µé¢åœ°å€ä¸º [https://wangfengyuan.notion.site/3fdac18030394399ae73a019054ce28f?v=3e95b92e5aea4f9abc999ef7c039690a&pvs=4ï¼Œ](%E6%83%B3%E5%BF%B5%E7%86%8A%E7%88%B1%E7%BC%96%E7%A0%81%206e4c1aee7c57432baf035aee373fb317/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%203fdac18030394399ae73a019054ce28f.md) é‚£ä¹ˆ 3fdac18030394399ae73a019054ce28f å°±æ˜¯è¿™ä¸ªdatabase id
    
2. **è·å–Notion Integration Token** å‚è€ƒ[Notionæ–‡æ¡£](https://developers.notion.com/docs/create-a-notion-integration#step-1-create-an-integration)ç”Ÿæˆä¸€ä¸ª
3. **å…³è”Token**
    
    ç„¶ååœ¨ç¬¬ä¸€æ­¥é¡µé¢è®¾ç½®ä¸­ï¼Œç‚¹å‡»Connectionsç»‘å®šç¬¬äºŒæ­¥ç”³è¯·çš„token
    
    ![Untitled](https://cos.codefe.top/images/notion-connect-token.png)
    

å½“æˆ‘ä»¬æé—®ï¼š prismaæœ‰å“ªäº›ä¼˜åŠ¿æ—¶ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ—¶å€™æ€»ç»“å›ç­”çš„è¿˜æ˜¯æŒºå¥½çš„ï¼ŒæŸ¥çœ‹åŒ¹é…åˆ°åˆ°æºæ–‡ä»¶ä¹Ÿæ˜¯å…¨éƒ¨æ˜¯è¿è´¯å¹²å‡€çš„æ–‡æœ¬ã€‚

![Untitled](https://cos.codefe.top/images/flowise-notion-test.png)

# é›†æˆåˆ°ç½‘é¡µ

ç‚¹å‡»å³ä¸Šè§’ä»£ç å›¾æ ‡ï¼Œå¯ä»¥çœ‹åˆ°å®ƒæä¾›äº†ç›´æ¥åµŒå…¥ä½ ç½‘ç«™çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä¸‹æ–¹`Chat Config`è¦†ç›–é»˜è®¤å‚æ•°æ¥å®šåˆ¶éƒ¨åˆ†å±•ç¤ºã€‚

![Untitled](https://cos.codefe.top/images/flowise-embed-desc.png)

åŒæ—¶ä¹Ÿæä¾›äº†APIçš„è°ƒç”¨æ–¹å¼ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»“åˆè‡ªå·±åœºæ™¯ï¼Œèµ‹äºˆäº†æ›´é«˜çš„è‡ªç”±åº¦ã€‚

![Untitled](https://cos.codefe.top/images/flowise-api-integration.png)

ä½†æ˜¯ä»å®ƒçš„`github`ä¸Šå¯ä»¥æ‰¾åˆ°å…¶å®æœ‰ä¸€ä¸ªå¯¹åº”çš„`[React`ç‰ˆæœ¬çš„`npm`åŒ…](https://github.com/FlowiseAI/FlowiseEmbedReact)çš„

```bash
pnpm install flowise-embed flowise-embed-react
```

```bash
import { BubbleChat } from "flowise-embed-react";

<BubbleChat
  chatflowid="eddfac63-bcc5-4c3b-ab68-e1eaa2f8c5e2"
  apiHost="https://flowise.codefe.top"
/>
```

ç„¶åå°±æˆåŠŸçš„é›†æˆåˆ°äº†åšå®¢ç½‘é¡µï¼Œä½†æ˜¯å½“å†æ¬¡æé—®æ—¶ï¼Œå¦‚ä¸‹å›¾

![Untitled](https://cos.codefe.top/images/flowise-blog-embed-original.png)

åŒæ ·çš„é—®é¢˜ï¼Œä¹‹å‰å›ç­”ä¸€ç›´æ˜¯ç”¨çš„æ–‡ç« çš„ä¸­æ–‡ï¼Œä½†æ˜¯é›†æˆåå›ç­”è¢«è½¬æ¢æˆäº†è‹±æ–‡çš„ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä¸ºå•¥ï¼Œç„¶åè¿™é‡Œæˆ‘çš„åŠæ³•æ˜¯ï¼Œåœ¨é¢„ç½®çš„promptåé¢åŠ ä¸€å¥è®©å…¶ç”¨ä¸­æ–‡å›ç­”ï¼Œå¦‚ä¸‹å›¾ï¼š

![Untitled](https://cos.codefe.top/images/flowise-chatprompt-optimize.png)

ä¿®æ”¹åå°±è¾¾åˆ°äº†ä¸ä¹‹å‰ç”»å¸ƒæµ‹è¯•å·®ä¸å¤šä¸€è‡´çš„æ•ˆæœï¼Œä½ å¯ä»¥åœ¨è¿™[ä½“éªŒ](https://blog.codefe.top/)ã€‚

![Untitled](https://cos.codefe.top/images/flowise-blog-correct.png)

# è®­ç»ƒå’Œä½¿ç”¨ç‹¬ç«‹

æœ€å¥½çš„ç”Ÿäº§å®è·µæ˜¯ä½¿ç”¨ä¸¤ä¸ªæµç¨‹ã€‚ä¸€ä¸ªç”¨äºè®­ç»ƒæœºå™¨äººï¼Œå¦ä¸€ä¸ªç”¨äºä½¿ç”¨æœºå™¨äººï¼Œè¿™æ ·å°±å¯ä»¥å¤šæ¬¡è¿è¡Œè®­ç»ƒéƒ¨åˆ†ã€‚ä¸Šé¢çš„æµç¨‹ï¼Œä½¿ç”¨çš„æ˜¯`**Faiss Upsert Document`** ï¼Œæ˜¯å°†å‘é‡æ’å…¥å‘é‡æ•°æ®åº“ï¼Œæ‰€ä»¥è¿™å…¶å®æ˜¯ç”¨æ¥è®­ç»ƒæ•°æ®çš„ï¼Œè¿™ä¸€æ­¥æ— éœ€æ¯æ¬¡éƒ½æ‰§è¡Œï¼Œè¿™æ ·ä¹Ÿè€—è´¹`tokens`ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å†æ–°å»ºä¸€ä¸ª`chatflow`å¹¶å°†`**Faiss Upsert Document**`æ›¿æ¢ä¸º`**Faiss Load Existing Index**`èŠ‚ç‚¹ï¼Œå¹¶å¡«å†™è®¾ç½®ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾ï¼Œå°±ä»å·²æœ‰çš„å‘é‡æ•°æ®åº“æ‰§è¡ŒæŸ¥è¯¢å°±è¡Œï¼Œåœ¨ä½¿ç”¨æ—¶å°±ç”¨è¿™ä¸ªæµç¨‹ã€‚

![Untitled](https://cos.codefe.top/images/flowise-loadexistindex-flow.png)

æœ€åå°†æ–‡ç« ä¸­çš„å‡ ç§`FlowChat`æµç¨‹å›¾å¯¹åº”çš„æ–‡ä»¶è´´ä¸€ä¸‹åœ°å€ï¼Œéœ€è¦çš„å¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹é¢é“¾æ¥å¯¼å…¥ä½¿ç”¨

- [ç»“åˆ`Notion Database Loader`å’Œ`Faiss Upset Document` è®­ç»ƒæ•°æ®](https://cos.codefe.top/flowise-chatflow/notion-faiss-upset.json)
- [ä½¿ç”¨`Faiss Load Existing Index` ä½¿ç”¨å·²æœ‰æ•°æ®](https://cos.codefe.top/flowise-chatflow/notion-faiss-read.json)

# æ€»ç»“

æœ¬æ–‡ä»‹ç»äº†æ— éœ€ç¼–å†™ä»»ä½•ä»£ç ä»…é æ‹–æ‹½ä¾¿å¯è½»æ¾æ„å»ºAIåº”ç”¨çš„`Flowise`è¿™ä¸€å¼ºå¤§å·¥å…·çš„éƒ¨ç½²å’Œä½¿ç”¨æ–¹å¼ï¼Œå¹¶ä»¥è‡ªå·±åšå®¢ç½‘ç«™ä¸ºä¾‹ï¼Œæ•™å¤§å®¶å¦‚ä½•åœ¨å‡ åˆ†é’Ÿå†…è®­ç»ƒç½‘ç«™æˆ–è€…æ–‡æ¡£æ•°æ®ï¼Œåˆ›å»ºè‡ªå·±çš„ç½‘é¡µèŠå¤©æœºå™¨äººã€‚

# å‚è€ƒ

- ****`[Use ChatGPT to Chat & Query with Your OwnÂ Files](https://mirror.xyz/0x90f2036E332dfAD451ba9E9C82366F4ba79173d8/Kacd_FPecsMWTA5cvVXvNNzaiaYrtssHa-2sxxSIcIw)`****
- [**å‘é‡æ•°æ®åº“æŠ€æœ¯é‰´èµ**](https://www.bilibili.com/video/BV11a4y1c7SW/)